<!DOCTYPE html>

<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ä»Šä½•æ­³ã ã£ã‘ï¼Ÿ</title>
<link href="https://fonts.googleapis.com/css2?family=Dela+Gothic+One&family=BIZ+UDPGothic:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root {
    --pink: #FF4D8D;
    --yellow: #FFD93D;
    --cyan: #4DFFEE;
    --purple: #C04DFF;
    --orange: #FF7A4D;
    --bg: #0D0D1A;
  }

- { margin: 0; padding: 0; box-sizing: border-box; }

body {
background: var(â€“bg);
color: #fff;
font-family: â€˜BIZ UDPGothicâ€™, sans-serif;
min-height: 100vh;
overflow-x: hidden;
}

body::before {
content: â€˜â€™;
position: fixed;
inset: 0;
background:
radial-gradient(circle at 20% 20%, rgba(255,77,141,0.15) 0%, transparent 50%),
radial-gradient(circle at 80% 80%, rgba(192,77,255,0.15) 0%, transparent 50%);
pointer-events: none;
z-index: 0;
}

.container {
position: relative;
z-index: 1;
max-width: 700px;
margin: 0 auto;
padding: 2rem 1.5rem 4rem;
}

h1 {
font-family: â€˜Dela Gothic Oneâ€™, sans-serif;
font-size: clamp(2.2rem, 8vw, 3.8rem);
text-align: center;
margin-bottom: 0.3rem;
background: linear-gradient(135deg, var(â€“pink), var(â€“yellow), var(â€“cyan));
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
animation: titleFloat 3s ease-in-out infinite;
}

@keyframes titleFloat {
0%, 100% { transform: translateY(0px); }
50% { transform: translateY(-6px); }
}

.subtitle {
text-align: center;
color: rgba(255,255,255,0.5);
font-size: 0.9rem;
margin-bottom: 2.5rem;
letter-spacing: 0.1em;
}

.input-card {
background: rgba(255,255,255,0.05);
border: 2px solid rgba(255,255,255,0.1);
border-radius: 24px;
padding: 2rem;
margin-bottom: 2rem;
transition: border-color 0.3s;
}

.input-card:focus-within {
border-color: var(â€“pink);
box-shadow: 0 0 30px rgba(255,77,141,0.2);
}

label {
display: block;
font-size: 0.85rem;
color: var(â€“yellow);
letter-spacing: 0.15em;
text-transform: uppercase;
margin-bottom: 0.6rem;
font-weight: 700;
}

input[type=â€œdateâ€] {
width: 100%;
background: rgba(255,255,255,0.08);
border: 2px solid rgba(255,255,255,0.15);
border-radius: 14px;
padding: 1rem 1.2rem;
color: #fff;
font-size: 1.2rem;
font-family: â€˜BIZ UDPGothicâ€™, sans-serif;
outline: none;
transition: all 0.3s;
cursor: pointer;
}

input[type=â€œdateâ€]:focus {
border-color: var(â€“cyan);
background: rgba(77,255,238,0.08);
box-shadow: 0 0 20px rgba(77,255,238,0.15);
}

input[type=â€œdateâ€]::-webkit-calendar-picker-indicator {
filter: invert(1);
cursor: pointer;
width: 20px;
height: 20px;
}

.result-card {
display: none;
background: rgba(255,255,255,0.05);
border: 2px solid var(â€“pink);
border-radius: 24px;
padding: 2rem;
margin-bottom: 2rem;
text-align: center;
animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
box-shadow: 0 0 40px rgba(255,77,141,0.2);
}

@keyframes popIn {
from { opacity: 0; transform: scale(0.85) translateY(20px); }
to { opacity: 1; transform: scale(1) translateY(0); }
}

.age-display {
font-family: â€˜Dela Gothic Oneâ€™, sans-serif;
font-size: clamp(4rem, 20vw, 8rem);
line-height: 1;
background: linear-gradient(135deg, var(â€“yellow), var(â€“orange), var(â€“pink));
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
animation: numberPulse 2s ease-in-out infinite;
}

@keyframes numberPulse {
0%, 100% { filter: drop-shadow(0 0 20px rgba(255,217,61,0.4)); }
50% { filter: drop-shadow(0 0 40px rgba(255,217,61,0.7)); }
}

.age-label {
font-family: â€˜Dela Gothic Oneâ€™, sans-serif;
font-size: 1.8rem;
color: rgba(255,255,255,0.8);
margin-bottom: 0.5rem;
}

.age-detail {
color: rgba(255,255,255,0.5);
font-size: 0.9rem;
margin-top: 0.5rem;
}

.stats-row {
display: grid;
grid-template-columns: repeat(3, 1fr);
gap: 1rem;
margin-top: 1.5rem;
}

.stat-box {
background: rgba(255,255,255,0.05);
border-radius: 14px;
padding: 1rem 0.5rem;
border: 1px solid rgba(255,255,255,0.1);
}

.stat-num {
font-family: â€˜Dela Gothic Oneâ€™, sans-serif;
font-size: 1.4rem;
color: var(â€“cyan);
}

.stat-label {
font-size: 0.7rem;
color: rgba(255,255,255,0.4);
margin-top: 0.2rem;
}

.timeline-section { display: none; }

.timeline-title {
font-family: â€˜Dela Gothic Oneâ€™, sans-serif;
font-size: 1.4rem;
margin-bottom: 1.5rem;
color: var(â€“cyan);
}

.timeline {
position: relative;
padding-left: 2rem;
}

.timeline::before {
content: â€˜â€™;
position: absolute;
left: 8px;
top: 0;
bottom: 0;
width: 3px;
background: linear-gradient(180deg, var(â€“pink), var(â€“purple), var(â€“cyan));
border-radius: 10px;
}

.timeline-item {
position: relative;
margin-bottom: 1.2rem;
animation: slideIn 0.4s ease both;
}

@keyframes slideIn {
from { opacity: 0; transform: translateX(-15px); }
to { opacity: 1; transform: translateX(0); }
}

.timeline-dot {
position: absolute;
left: -1.75rem;
top: 1rem;
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid var(â€“bg);
}

.timeline-card {
background: rgba(255,255,255,0.05);
border-radius: 14px;
padding: 1rem 1.2rem;
border-left: 3px solid;
transition: transform 0.2s, background 0.2s;
}

.timeline-card:hover {
transform: translateX(4px);
background: rgba(255,255,255,0.09);
}

.timeline-year {
font-family: â€˜Dela Gothic Oneâ€™, sans-serif;
font-size: 1rem;
margin-bottom: 0.2rem;
}

.timeline-age {
font-size: 0.75rem;
opacity: 0.5;
font-weight: 700;
letter-spacing: 0.1em;
}

.timeline-event {
font-size: 0.85rem;
color: rgba(255,255,255,0.7);
margin-top: 0.3rem;
}

.confetti-emoji {
position: fixed;
pointer-events: none;
font-size: 1.5rem;
animation: falling 3s linear forwards;
z-index: 999;
}

@keyframes falling {
0% { opacity: 1; transform: translateY(-50px) rotate(0deg); }
100% { opacity: 0; transform: translateY(100vh) rotate(720deg); }
}
</style>

</head>
<body>

<div class="container">
  <h1>ä»Šä½•æ­³ã ã£ã‘ï¼Ÿ</h1>
  <p class="subtitle">âœ¨ ç”Ÿå¹´æœˆæ—¥ã‚’å…¥ã‚Œã¦ã­ âœ¨</p>

  <div class="input-card">
    <label>ğŸ‚ ç”Ÿå¹´æœˆæ—¥</label>
    <input type="date" id="birthdate" max="">
  </div>

  <div class="result-card" id="resultCard">
    <div class="age-label">ã‚ãªãŸã¯ä»Š</div>
    <div class="age-display" id="ageNum">0</div>
    <div class="age-label">æ­³ï¼</div>
    <div class="age-detail" id="ageDetail"></div>
    <div class="stats-row">
      <div class="stat-box">
        <div class="stat-num" id="monthsOld">-</div>
        <div class="stat-label">ãƒ¶æœˆ</div>
      </div>
      <div class="stat-box">
        <div class="stat-num" id="daysOld">-</div>
        <div class="stat-label">æ—¥</div>
      </div>
      <div class="stat-box">
        <div class="stat-num" id="nextBirthday">-</div>
        <div class="stat-label">æ—¥å¾Œã«èª•ç”Ÿæ—¥ğŸ‰</div>
      </div>
    </div>
  </div>

  <div class="timeline-section" id="timelineSection">
    <div class="timeline-title">ğŸ“… ã‚ãªãŸã®å¹´è¡¨</div>
    <div class="timeline" id="timeline"></div>
  </div>
</div>

<script>
const COLORS = ['#FF4D8D','#FFD93D','#4DFFEE','#C04DFF','#FF7A4D','#4DFF91'];

const MILESTONES = {
  0: 'ğŸ‘¶ èª•ç”Ÿï¼ã“ã®ä¸–ç•Œã«æ¥ãŸã‚ˆ',
  1: 'ğŸš¶ 1æ­³ã€ã‚ˆã¡ã‚ˆã¡æ­©ãã¯ã˜ã‚',
  3: 'ğŸ’ å¹¼ç¨šåœ’ãƒ»ä¿è‚²åœ’',
  6: 'ğŸ« å°å­¦æ ¡å…¥å­¦',
  7: 'âœï¸ ä¹ä¹ã‚’è¦šãˆã‚‹é ƒ',
  10: 'ğŸ”Ÿ äºŒæ¡ï¼å°å­¦æ ¡é«˜å­¦å¹´',
  12: 'ğŸ“ ä¸­å­¦æ ¡å…¥å­¦',
  13: 'ğŸŒŸ ãƒ†ã‚£ãƒ¼ãƒ³ã‚¨ã‚¤ã‚¸ãƒ£ãƒ¼çªå…¥ï¼',
  15: 'ğŸ“š é«˜æ ¡å—é¨“',
  18: 'ğŸ—³ï¸ é¸æŒ™æ¨©ãƒ»æˆå¹´',
  20: 'ğŸŠ æˆäººå¼',
  22: 'ğŸ’¼ å¤§å­¦å’æ¥­ãƒ»ç¤¾ä¼šäººãƒ‡ãƒ“ãƒ¥ãƒ¼',
  25: 'ğŸš— ãƒ¬ãƒ³ã‚¿ã‚«ãƒ¼ãŒå€Ÿã‚Šã‚„ã™ããªã‚‹',
  30: 'ğŸŒ¿ ã‚¢ãƒ©ã‚µãƒ¼ï¼',
  35: 'ğŸ’« æŠ˜ã‚Šè¿”ã—æ„Ÿã‚ã‚Š',
  40: 'ğŸ”¥ ã‚¢ãƒ©ãƒ•ã‚©ãƒ¼ï¼ã¾ã ã¾ã ç¾å½¹',
  50: 'ğŸŒ¸ åŠä¸–ç´€ï¼',
  60: 'ğŸ‹ é‚„æš¦ãŠã‚ã§ã¨ã†ï¼',
  70: 'ğŸŒº å¤å¸Œ',
  77: 'ğŸ€ å–œå¯¿',
  80: 'ğŸ‘ å‚˜å¯¿',
  88: 'ğŸŒ¾ ç±³å¯¿',
  90: 'ğŸŒ» å’å¯¿',
  99: 'âœ¨ ç™½å¯¿',
  100: 'ğŸ† 100æ­³ï¼è¶…å¤§å°ï¼ï¼',
};

function getDaysBetween(a, b) {
  return Math.floor((b - a) / 86400000);
}

function launchConfetti() {
  const emojis = ['ğŸ‰','ğŸŠ','âœ¨','ğŸŒŸ','ğŸ’«','ğŸˆ'];
  for (let i = 0; i < 15; i++) {
    setTimeout(function() {
      var el = document.createElement('div');
      el.className = 'confetti-emoji';
      el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      el.style.left = Math.random() * 100 + 'vw';
      el.style.animationDuration = (2 + Math.random() * 2) + 's';
      document.body.appendChild(el);
      setTimeout(function() { el.remove(); }, 4000);
    }, i * 100);
  }
}

function buildTimeline(birth, currentAge) {
  var timeline = document.getElementById('timeline');
  timeline.innerHTML = '';

  var items = [];
  for (var age = 0; age <= currentAge; age++) {
    var yearDate = new Date(birth.getTime());
    yearDate.setFullYear(yearDate.getFullYear() + age);
    items.push({ age: age, year: yearDate.getFullYear(), milestone: MILESTONES[age] || null });
  }

  items.reverse().forEach(function(item, i) {
    var color = COLORS[i % COLORS.length];
    var isCurrent = item.age === currentAge;
    var borderColor = isCurrent ? '#FFD93D' : color;

    var div = document.createElement('div');
    div.className = 'timeline-item';
    div.style.animationDelay = (i * 0.04) + 's';
    div.innerHTML =
      '<div class="timeline-dot" style="background:' + borderColor + '; box-shadow: 0 0 8px ' + borderColor + '"></div>' +
      '<div class="timeline-card" style="border-color:' + borderColor + ';' + (isCurrent ? 'background:rgba(255,217,61,0.08)' : '') + '">' +
        '<div class="timeline-year" style="color:' + borderColor + '">' + item.year + 'å¹´' + (isCurrent ? ' ğŸ‘ˆ ä»Šã“ã“ï¼' : '') + '</div>' +
        '<div class="timeline-age">' + item.age + 'æ­³</div>' +
        (item.milestone ? '<div class="timeline-event">' + item.milestone + '</div>' : '') +
      '</div>';
    timeline.appendChild(div);
  });
}

document.getElementById('birthdate').addEventListener('change', function() {
  var val = this.value;
  if (!val) return;

  // YYYY-MM-DD ã‚’ãƒ‘ãƒ¼ã‚¹ï¼ˆã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å•é¡Œã‚’é¿ã‘ã‚‹ãŸã‚æ‰‹å‹•ãƒ‘ãƒ¼ã‚¹ï¼‰
  var parts = val.split('-');
  var birth = new Date(parseInt(parts[0]), parseInt(parts[1]) - 1, parseInt(parts[2]));
  var now = new Date();

  var age = now.getFullYear() - birth.getFullYear();
  var mDiff = now.getMonth() - birth.getMonth();
  if (mDiff < 0 || (mDiff === 0 && now.getDate() < birth.getDate())) age--;

  var months = (now.getFullYear() - birth.getFullYear()) * 12 + (now.getMonth() - birth.getMonth());
  if (now.getDate() < birth.getDate()) months--;

  var days = getDaysBetween(birth, now);

  var nextBD = new Date(now.getFullYear(), birth.getMonth(), birth.getDate());
  if (nextBD <= now) nextBD.setFullYear(nextBD.getFullYear() + 1);
  var daysToNext = getDaysBetween(now, nextBD);

  var isBirthday = birth.getDate() === now.getDate() && birth.getMonth() === now.getMonth();

  document.getElementById('ageNum').textContent = age;
  document.getElementById('ageDetail').textContent =
    isBirthday
      ? 'ğŸ‚ ä»Šæ—¥ãŒèª•ç”Ÿæ—¥ï¼ãŠã‚ã§ã¨ã†ï¼ğŸ‚'
      : birth.getFullYear() + 'å¹´' + (birth.getMonth() + 1) + 'æœˆ' + birth.getDate() + 'æ—¥ç”Ÿã¾ã‚Œ';
  document.getElementById('monthsOld').textContent = months.toLocaleString();
  document.getElementById('daysOld').textContent = days.toLocaleString();
  document.getElementById('nextBirthday').textContent = isBirthday ? 'ğŸ‰' : daysToNext;

  document.getElementById('resultCard').style.display = 'block';
  document.getElementById('timelineSection').style.display = 'block';

  buildTimeline(birth, age);
  if (isBirthday) launchConfetti();
});

// max ã‚’ä»Šæ—¥ã«è¨­å®š
var today = new Date();
var yyyy = today.getFullYear();
var mm = String(today.getMonth() + 1).padStart(2, '0');
var dd = String(today.getDate()).padStart(2, '0');
document.getElementById('birthdate').max = yyyy + '-' + mm + '-' + dd;
</script>

</body>
</html>
